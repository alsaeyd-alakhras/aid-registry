## ๐ฏ ุงููุฏู

ุฅุถุงูุฉ ุฌุฏูู ุฌุฏูุฏ ุจุงุณู **institutions (ุงููุคุณุณุงุช)** ูุฑุจุทู ูุจุงุดุฑุฉ ุจุฌุฏูู **aid_distributions** ุจุญูุซ ูู ุนูููุฉ ุตุฑู ุชุฑุชุจุท ุจูุคุณุณุฉ ูุงุญุฏุฉ.

ุงููุธุงู ูุฌุจ ุฃู ูุจูู:

* ุดุงุดุฉ ูุงุญุฏุฉ ููุฅุฏุฎุงู
* ูุง ูุชู ุฅูุดุงุก ุตูุญุงุช ุฅุถุงููุฉ ููุตุฑู
* ููุท ุชุนุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช + CRUD ูููุคุณุณุงุช + ุชุนุฏูู ุงูููุฑู

---

# 1๏ธโฃ ุฅูุดุงุก ุฌุฏูู institutions

## ๐ฆ Migration

ุงุณู ุงูุฌุฏูู: `institutions`

ุงูุญููู:

| ุงูุญูู      | ุงูููุน                | ุงูููุงุญุธุงุช            |
| ---------- | -------------------- | -------------------- |
| id         | bigIncrements        | PK                   |
| name       | string               | ุงุณู ุงููุคุณุณุฉ (ุฅุฌุจุงุฑู) |
| notes      | text nullable        | ููุงุญุธุงุช              |
| is_active  | boolean default true | ูุชูุนูู/ุชุนุทูู         |
| created_at | timestamp            |                      |
| updated_at | timestamp            |                      |

### ุดุฑูุท:

* name ูุง ูุชูุฑุฑ (unique)
* ูุง ููุฌุฏ soft delete ุญุงููุงู

---

# 2๏ธโฃ ุฅูุดุงุก CRUD ูุงูู ูููุคุณุณุงุช
 
 ุนูุฏู ุฌุฏูู ุงูููุงุชุจ ุฎุฏ ููู ุทุฑููุฉ ุงูcrud 
## ุงููุณุงุฑ ุงูุฅุฏุงุฑู:

dashboard โ ุงููุคุณุณุงุช

## ุงููุธุงุฆู ุงููุทููุจุฉ:

### โ ุนุฑุถ ุฌุฏูู ุงููุคุณุณุงุช

* ุงูุงุณู
* ุงูุญุงูุฉ (ูุนุงู/ุบูุฑ ูุนุงู)
* ููุงุญุธุงุช
* ุนุฏุฏ ุนูููุงุช ุงูุตุฑู ุงููุฑุชุจุทุฉ (withCount aid_distributions)
* ุฃุฒุฑุงุฑ ุชุนุฏูู / ุชุนุทูู

### โ ุฅุถุงูุฉ ูุคุณุณุฉ

ููุฑู ูุญุชูู:

* ุงุณู ุงููุคุณุณุฉ (required)
* ููุงุญุธุงุช (ุงุฎุชูุงุฑู)

### โ ุชุนุฏูู ูุคุณุณุฉ

* ุชุนุฏูู ุงูุงุณู ูุงูููุงุญุธุงุช
* ููุน ุชุนุฏูู ุฅุฐุง ูุฑุชุจุท ุจูุง ุนูููุงุช ุตุฑูุ โ ูุง
  ูุณูุญ ุจุงูุชุนุฏูู ููู ูุง ูุณูุญ ุจุงูุญุฐู.

### โ ููุน ุงูุญุฐู

ุฅุฐุง ุนูุฏูุง ุนูููุงุช ุตุฑู:

* ูุง ูุณูุญ ุจุงูุญุฐู ููุงุฆูุงู
* ููุท ุชุนุทูู is_active = false

---

# 3๏ธโฃ ุชุนุฏูู ุฌุฏูู aid_distributions

## Migration ุชุนุฏูู

ุฅุถุงูุฉ ุญูู:

```
institution_id
```

ุงูููุน:

```
foreignId()->constrained('institutions')->cascadeOnUpdate()->restrictOnDelete()
```

โ ุฅูุฒุงูู (NOT NULL)
โ ูู ุนูููุฉ ุตุฑู ูุฌุจ ุฃู ุชุฑุชุจุท ุจูุคุณุณุฉ

---

# 4๏ธโฃ ุชุนุฏูู ุงูุนูุงูุงุช ูู ุงูููุฏูุฒ

## Institution Model

```
public function distributions()
{
    return $this->hasMany(AidDistribution::class);
}
```

## AidDistribution Model

```
public function institution()
{
    return $this->belongsTo(Institution::class);
}
```

---

# 5๏ธโฃ ุชุนุฏูู ุดุงุดุฉ ุงูุฅุฏุฎุงู ุงูููุญุฏุฉ (ุงูุฃูู)

ุญุณุจ ุชุตููู ุงูุตูุญุฉ ุงูููุญุฏุฉ ุงููุฐููุฑ ูู ุงููุณุงุฑ 

## ๐ต ุฏุงุฎู ูุณู "ุจูุงูุงุช ุงููุณุงุนุฏุฉ"

ุฅุถุงูุฉ ุญูู ุฌุฏูุฏ ุฃุนูู ููุน ุงููุณุงุนุฏุฉ:

### ุญูู:

```
ุงููุคุณุณุฉ
```

ููุนู:
Dropdown select

### ุงูุฎุตุงุฆุต:

* required
* ูุนุฑุถ ููุท ุงููุคุณุณุงุช ุงููุนุงูุฉ (is_active = true)
* ูุธูุฑ ูุจู:

  * ููุน ุงููุณุงุนุฏุฉ (cash / in_kind)

---

# 6๏ธโฃ ุชุนุฏูู ููุทู ุงูุญูุธ

ูู Controller ุนูุฏ ุญูุธ:

ูุจู insert aid_distributions:

ูุฌุจ ุงูุชุญูู ูู:

```
institution_id => required | exists:institutions,id
```

ุซู:

```
insert aid_distributions([
    ...
    institution_id => request('institution_id')
])
```

---

# 7๏ธโฃ ุชุนุฏูู ุนุฑุถ ุณุฌู ุงููุณุงุนุฏุงุช ุงูุณุงุจูุฉ

ูู ุฌุฏูู "ุณุฌู ุงููุณุงุนุฏุงุช ุงูุณุงุจูุฉ" ุฏุงุฎู ุงูุตูุญุฉ:

ุฅุถุงูุฉ ุนููุฏ ุฌุฏูุฏ:

ุงููุคุณุณุฉ

ููุนุฑุถ:

```
$distribution->institution->name
```

---

# 8๏ธโฃ ุชุนุฏูู ุตูุญุฉ ุนุฑุถ ุฌููุน ุงููุณุงุนุฏุงุช

ุฅุฐุง ููุฌุฏ DataTable ูุนุฑุถ ุงููุณุงุนุฏุงุช:

ุฅุถุงูุฉ ุนููุฏ:
ุงููุคุณุณุฉ

ูุฅููุงููุฉ ุงูููุชุฑุฉ ุญุณุจ ุงููุคุณุณุฉ ูุณุชูุจูุงู (Optional ููู ููุถู).

---

# 9๏ธโฃ Seeder ุฃุณุงุณู

ุฅูุดุงุก InstitutionSeeder

ูุซุงู ุจูุงูุงุช ุฃูููุฉ:

* ูุคุณุณุฉ ุงูุฑุญูุฉ
* ูุคุณุณุฉ ุงูุชูุงูู
* ูุฌูุฉ ุงูุฒูุงุฉ
* ุงูููุงู ุงูุฎูุฑู

---

# ๐ด ููุงุนุฏ ูููุฉ ุฌุฏุงู

1. ูุง ูุชู ุฅูุดุงุก ุนูููุฉ ุตุฑู ุจุฏูู ูุคุณุณุฉ.
2. ูุง ูุณูุญ ุจุญุฐู ูุคุณุณุฉ ูุฑุชุจุทุฉ ุจุตุฑู.
3. ุชุนุทูู ุงููุคุณุณุฉ ูููุน ุธููุฑูุง ูู ุงูููุฑู.
4. ุงููุธุงู ูุจูู ุดุงุดุฉ ูุงุญุฏุฉ ููุท ููุตุฑู.
5. ุงูุชูุงุฑูุฑ ูุงุญูุงู ูููู ุชุตููููุง ุญุณุจ ุงููุคุณุณุฉ.

---

# ๐ข ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุจุนุฏ ุงูุชูููุฐ ูุตุจุญ ูุฏููุง:

Family
Office
AidItem
Institution
AidDistribution

ููู ุนูููุฉ ุตุฑู ูุฑุชุจุทุฉ ุจู:

* ุฃุณุฑุฉ
* ููุชุจ
* ูุคุณุณุฉ
* ููุน ูุณุงุนุฏุฉ

---

ุฅุฐุง ุฃุฑุฏุช ุงูุขู ุฃุฑุงุฌุน ูุนู ุงููุฑุงุฑ ููุณู:

ูู ุงููุคุณุณุฉ ุชูุซู **ุฌูุฉ ููููุฉ**ุ
ุฃู **ุฌูุฉ ูููุฐุฉ**ุ
ุฃู ุงูุงุซูููุ

ูุฃู ุงููุฑู ููุง ุณูุบูุฑ ุงูุชุตููู ูุณุชูุจูุงู ูู ุงูุชูุงุฑูุฑ.

ุฅุฐุง ุฌุงูุจุชูู ุจุฏูุฉุ ุฃุถุบุท ูู ุงูุชุตููู ุตุญ ูู ุงูุจุฏุงูุฉ ุจุฏูู ุชุฑููุน ุจุนุฏ ุณูุฉ.
